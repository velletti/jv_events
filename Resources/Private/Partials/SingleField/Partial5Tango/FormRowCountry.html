{namespace jve=JVelletti\JvEvents\ViewHelpers}

<div class="form-group display-data row">
	<f:variable name="propertyName"></f:variable>
	<f:if condition="{object}">
		<f:variable name="propertyName">{object}.{property}</f:variable>
		<f:render partial="FormErrorSingle" arguments="{property: errorProperty, field: propertyName}"/>
	</f:if>

	<f:variable name="defaultValueText"></f:variable>
	<f:if condition="{defaultValue}">
		<f:variable name="defaultValueText">value='{defaultValue}'</f:variable>
	</f:if>

	<f:variable name="allowedCountrys"></f:variable>
	<f:if condition="{settings.location.allowedCountrys}">
		<f:variable name="allowedCountrys">{settings.location.allowedCountrys}</f:variable>
	</f:if>


	<label for="{property}" class="control-label col-sm-4">
		<f:if condition="{translationKey}">
			<f:then>
				<f:translate key="{translationKey}"><f:if condition="{label}"><f:then>{label}</f:then><f:else>{translationKey}</f:else></f:if></f:translate>
			</f:then>
			<f:else>
				{label}
			</f:else>
		</f:if>

		<f:if condition="{mandatory}">
			<span class="mandatory">*</span>
		</f:if>

	</label>
	<div class="col-sm-8">
		<f:if condition="{fa-icon}">
			<f:then>
				<div class="input-group">

					<f:if condition="{object}">
						<f:then>
							<jve:SelectStaticCountries class="form-control jv-events-req-{required} ObjIcon" property="{property}" id="jv_events_{property}"
															allowedCountries="{allowedCountrys}" optionValueField="cnIso2"  optionLabelField="cnShortLocal" sortByOptionLabel="TRUE"/>

						</f:then>
						<f:else>
							<jve:SelectStaticCountries class="form-control jv-events-req-{required} noObjIcon"  id="{property}" {defaultValueText}
															allowedCountries="{allowedCountrys}" optionValueField="cnIso2" optionLabelField="cnShortLocal" sortByOptionLabel="TRUE"/>
						</f:else>
					</f:if>

					<div class="input-group-addon btn btn-secondary" {f:if(condition: '{data-toggle}' , then:'data-toggle="{data-toggle}"' )}
						 {f:if(condition:'{data-target}' , then:'data-target="{data-target}"' )}
					>
						<label for="{property}" class="control-label">
							<i class="{fa-icon}"></i>
						</label>

					</div>
				</div>

			</f:then>
			<f:else>
				<f:if condition="{object}">
					<f:then>
						<jve:SelectStaticCountries class="form-control jv-events-req-{required} noObjNoIcon" property="{property}" id="jv_events_{property}"
												   allowedCountries="{allowedCountrys}" optionValueField="cnIso2" optionLabelField="cnShortLocal" sortByOptionLabel="TRUE"/>

					</f:then>
					<f:else>
						<jve:SelectStaticCountries class="form-control jv-events-req-{required} ObjNoIcon"  id="{property}" {defaultValueText}
												   allowedCountries="{allowedCountrys}" optionValueField="cnIso2"  optionLabelField="cnShortLocal" sortByOptionLabel="TRUE"/>
					</f:else>
				</f:if>
			</f:else>
		</f:if>

	</div>
</div>