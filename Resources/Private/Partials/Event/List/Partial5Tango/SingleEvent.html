{namespace jve=JVE\JvEvents\ViewHelpers}

<f:if condition="{aktDate} != {lastDate}">
    <div class="alert alert-secondary text-black-50 jv-events-row jvevents-newDay"><i class="fas fa-calendar-alt"> </i> {event.startDate -> f:format.date(format:"D d. M. Y")} </div>
</f:if>

<f:spaceless>
    <div class="jv-events-singleEvent jv-events-row" {jve:dataAttrib( event: event )}>

        <div class="card col-12 my-4 clearfix rounded-bottom">
            <div class="row">
                <div class="col-6  order-1 col-sm-3 px-0">

                    <f:link.action pageUid="{settings.detailPid}" action="show" arguments="{event : event}">
                        <f:if condition="{event.teaserImage}">
                            <f:then>
                                <f:image src="{event.teaserImage.uid}" class="d-block w-100 h-auto img-float rounded shadow-lg" alt="{event.teaserImage.alternative}" title="{event.teaserImage.title}" width="{settings.list.image.width}c" maxWidth="{settings.list.image.width}" maxHeight="{settings.list.image.height}" treatIdAsReference="true" />
                            </f:then>
                            <f:else>
                                <f:if condition="{event.location.teaserImage}">
                                    <f:then>
                                        <f:image src="{event.location.teaserImage.uid}" class="d-block w-100 h-auto img-float rounded shadow-lg" alt="{event.location.teaserImage.alternative}" title="{event.location.teaserImage.title}" width="{settings.list.image.width}c" maxWidth="{settings.list.image.width}" maxHeight="{settings.list.image.height}" treatIdAsReference="true" />
                                    </f:then>
                                    <f:else>
                                        <f:if condition="{event.organizer.teaserImage}">
                                            <f:then>
                                                <f:image src="{event.organizer.teaserImage.uid}" class="d-block w-100 h-auto img-float rounded shadow-lg" alt="{event.organizer.teaserImage.alternative}" title="{event.organizer.teaserImage.title}" width="{settings.list.image.width}c" maxWidth="{settings.list.image.width}" maxHeight="{settings.list.image.height}" treatIdAsReference="true" />
                                            </f:then>
                                            <f:else>
                                                <f:image src="{settings.list.image.defaultImage}" class="d-block w-100 h-auto img-float rounded shadow-lg" alt="img" title="Settings: {settings.list.image.defaultImage}" width="{settings.list.image.width}c" maxWidth="{settings.list.image.width}" maxHeight="{settings.list.image.height}" treatIdAsReference="false" />
                                            </f:else>
                                        </f:if>
                                    </f:else>
                                </f:if>
                            </f:else>
                        </f:if>

                    </f:link.action>
                </div>


                <div class="col-12 col-sm-6  order-3 order-sm-2 py-3">
                    <div class="card-block min-height-6-lines">
                        <h4 class="card-title max-1-line "><f:link.action  pageUid="{settings.detailPid}" action="show" arguments="{event : event}" >
                            {event.name}
                        </f:link.action></h4>
                        <p class="my-2 d-md-block d-sm-none d-xs-block max-3-lines "><f:format.nl2br>{event.teaser}</f:format.nl2br></p>

                        <small class="align-text-bottom position-bottom py-3">
                            <f:for each="{event.eventCategory}" as="Category" iteration="iteration">{Category.title}, </f:for>
                            <f:for each="{event.Tags}" as="Tag" iteration="iteration">{Tag.name}<f:if condition="{iteration.isLast}"><f:else>, </f:else></f:if> </f:for>
                        </small>
                    </div>
                </div>

                <div class="col-6 col-sm-3 text-black-50 bg-gradient-light  order-2 order-sm-3 py-3">
                    {event.location.city}<br>
                    {event.startTime -> f:format.date(format:"H:i")}-{event.endTime -> f:format.date(format:"H:i")} h<br>
                    <f:if condition="{event.price} > 0 ">
                        <span class="d-md-block d-sm-none d-xs-block">{event.price} {event.currency} (<f:translate key="jv_events_model_event.inclusiveVat" />)<br></span>
                    </f:if>
                    <div class="jv_events_dist">.</div>

                </div>
            </div>
        </div>
    </div>
</f:spaceless>

