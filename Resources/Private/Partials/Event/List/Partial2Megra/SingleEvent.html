{namespace JVE=JVE\JvEvents\ViewHelpers}

<div class="jv-events-singleEvent  jv-events-row" {JVE:dataAttrib( event: event )}>

	<div class="alert alert-light border">
			<div class="row clearfix">
				<div class="col-md-1 col-12">
					<f:link.action pageUid="{settings.detailPid}" action="show" arguments="{event : event}">
						<div class="date">
							<span class="day">{f:format.date(date:event.startDate, format:'d')}</span>
							<span class="month-year"><JVE:writeDateAbbreviation month="{f:format.date(date:event.startDate, format:'m')}"></JVE:writeDateAbbreviation></span>
							<span class="year">{event.startDate -> f:format.date(format:"Y")}</span>
						</div>
					</f:link.action>
				</div>
				<div class="col-md-8 col-12">
					<h4>
						<f:link.action  pageUid="{settings.detailPid}" action="show" arguments="{event : event}">
							{event.name}
						</f:link.action>
					</h4>
				</div>
				<div class="col-md-3 col-12 text-right mb-2">
					<f:if condition="{event.isRegistrationPossible}">
							<JVE:regLink event="{event}" settings="{settings}" uriOnly="0">
								<span class="btn btn-primary">
									{f:translate(key:'LLL:EXT:jv_events/Resources/Private/Language/locallang.xlf:list.register.button.subscribe' , default:'Anmelden')}
								</span>
							</JVE:regLink>
					</f:if>
				</div>
				<div class="clearfix">
					<br/>
				</div>
				<div class="col-md-1 d-none d-sm-block">
					&nbsp;<br>
				</div>
				<div class="col-md-7 col-12">
					<f:if condition="{event.Tags}">
						<div class="small mb-1">
							<f:for each="{event.Tags}" as="Tag" iteration="iteration"><f:if condition="{iteration.index} > 0 ">, </f:if>{Tag.name}
							</f:for>
						</div>
					</f:if>
					<f:if condition="{event.teaser}">
						<div class="jv_events_teaser">
							{event.teaser}
						</div>
					</f:if>

					<f:if condition="{event.files}">
							<br/>
							<f:link.external defaultScheme="" uri="{event.files.0.originalResource.publicUrl -> f:format.htmlspecialchars()}" target="_blank">
								{f:if(condition:event.files.0.originalResource.title, then:event.files.0.originalResource.title, else:event.files.0.originalResource.name)}
							</f:link.external>
					</f:if>
				</div>

				<div class="col-md-2 col-6">
					{event.location.city}
				</div>

				<div class="col-md-2 col-6">
					<f:if condition="{event.EventCategory}">
						<f:for each="{event.EventCategory}" as="EventCategory" iteration="iteration"><f:if condition="{iteration.index} > 0 ">, </f:if>{EventCategory.title}</f:for>

					</f:if>

				</div>

			</div>
	</div>


	<div class="clearfix">
		<br/>
	</div>
</div>

