<f:if condition="{event}">
    <f:else>
        <div class="alert alert-warning my-4">
            <f:translate key="event.notfound">Could not find this event. Maybe it is canceled.</f:translate><br>
            <f:translate key="event.MayBeNoAccess">Maybe you do not have access and need to login.</f:translate>
        </div>
    </f:else>
    <f:then>

        <div class="card col-12 text-white bg-primary  jv-events-partial{settings.LayoutSingle}" id="jv-event-edit-data">
            <div class="card-header"> <span class="glyphicon glyphicon-edit"></span>
                <span class="fas fa-edit border-primary rounded-circle"></span>
                <span><f:translate key="tx_jvevents_domain_model_event">Edit Event</f:translate></span>
            </div>
            <div class="card-body text-black-50 bg-white row">
                <div class="col-md-4 equalHeight">
                    <f:render partial="FeEditHelp" arguments="{section: 'event', object: event , settings: settings , user: user}" />
                </div>
                <div class="col-md-8 equalHeight">
                    <f:render partial="HasFormErrors" arguments="{object:event, debug: 'true' }" />

                    <f:form class="form-horizontal"  action="update" name="event" object="{event}" id="event_edit">
                        <div class="text-right">
                            <f:form.submit class="btn btn-primary" value="{f:translate(key: 'form.save', default: 'Save')}" />
                        </div>

                        <div class="col-xs-12 " xmlns:f="http://www.w3.org/1999/html">

                            <h4 class="text-left">
                                <f:link.action pageUid="{settings.detailPageId}" action="show" controller="Event" class="btn  btn-outline-primary left rounded-circle" arguments="{event: '{event.uid}'}">
                                    <i class="fas fa-eye " title="show"></i>
                                </f:link.action>
                                <span>Edit Event ({event.uid})</span>
                            </h4>


                            <span >({event.location.uid}) - {event.location.name}, {event.location.streetAndNr} - {event.location.city}</span>
                            <br>
                        </div>


                        <f:render partial="Event/Single/Partial{settings.LayoutSingle}/FormFields" arguments="{_all}" />
                        <f:if condition="{event.masterId}">
                            <f:then>
                                <div class="text-right">
                                    <span class="btn btn-primary" onclick="this.style.display ='none';" data-toggle="collapse" data-target="#jv_events_edit_save_button">{f:translate(key: 'form.save', default: 'Save')}</span>
                                </div>
                                <div id="jv_events_edit_save_button" class="alert alert-secondary collapse">
                                    <h3><f:translate key="tx_jvevents_domain_model_event.edit.repeating.headline">Regelmäßiger Termin</f:translate></h3>
                                    <p><f:translate key="tx_jvevents_domain_model_event.edit.repeating.text">Dies ist ein regelmäßiger Termin. Sollen die obigen Änderungen für alle zukünftigen Termine mit der gleichen ID übernommen werden?</f:translate></p>
                                    <p><f:translate key="tx_jvevents_domain_model_event.edit.repeating.textNot">Gilt aktuell noch nicht für Kategorien und Schlagworte!</f:translate></p>
                                    <f:render partial="SingleField/Partial{settings.LayoutSingle}/FormRowCheckbox"
                                              arguments="{object: '', property: 'changeFutureEvents' , onText: 'YES', offText: 'no' ,name:'tx_jvevents_events[changeFutureEvents]' , checked: 'false' , label: '' , translationKey: 'tx_jvevents_domain_model_event.edit.repeating.uebernehmen' ,  mandatory: '' }" />

                                    <div class="text-right">
                                        <f:form.submit class="btn btn-primary" value="{f:translate(key: 'form.save', default: 'Save')}" />
                                    </div>
                                </div>

                            </f:then>
                            <f:else>
                                <div class="text-right">
                                    <f:form.submit class="btn btn-primary" value="{f:translate(key: 'form.save', default: 'Save')}" />
                                </div>
                            </f:else>
                        </f:if>

                    </f:form>

                </div>
            </div>
        </div>

    </f:then>

</f:if>