<f:variable name="showErrorDetails"><br></f:variable>
<f:form.validationResults for="{for}">
    <f:if condition="{validationResults.flattenedErrors}">
        <f:for each="{validationResults.flattenedErrors}" key="propertyPath" as="propertyErrors">
            <f:for each="{propertyErrors}" as="propertyError">
                <f:variable name="showErrorDetails">{showErrorDetails}<br>({propertyPath}  -> ({propertyError.message})</f:variable>
                <f:variable name="showError">true</f:variable>
            </f:for>
        </f:for>

    </f:if>
</f:form.validationResults>


<f:if condition="{showError}">
	<f:then>
		<div class="">
			<button class="btn btn-outline-primary" type="button" data-toggle="collapse" data-target="#collapseError" aria-expanded="false" aria-controls="collapseExample">
                <span class="fa fa-info-circle mr-2"> </span> Show error details
			</button>

			<div class="collapse alert alert-warning" id="collapseError">
				<f:format.raw>
					{showErrorDetails}
				</f:format.raw>
			</div>
		</div>
		<f:flashMessages />
	</f:then>
	<f:else>
		<f:flashMessages />
	</f:else>
</f:if>


