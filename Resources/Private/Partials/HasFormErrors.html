<f:security.ifHasRole role="adminOrganizer">
	<f:variable name="showErrorDetails">
	<f:form.validationResults for="{for}">
		<f:if condition="{validationResults.flattenedErrors}">
			<f:for each="{validationResults.flattenedErrors}" key="propertyPath" as="propertyErrors">
				<f:for each="{propertyErrors}" as="propertyError">
					<f:variable name="showErrorDetails">{showErrorDetails}<br>({propertyPath}  -> ({propertyError.message})</f:variable>
					<f:variable name="showError">true</f:variable>
				</f:for>
			</f:for>

		</f:if>
	</f:form.validationResults>
</f:security.ifHasRole>


<f:if condition="{showError}">
	<f:then>
		<div class="alert alert-error">
			<button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseError" aria-expanded="false" aria-controls="collapseExample">
				<b>Error.</b> Please check your input
			</button>

			<div class="collapse" id="collapseError">
				<f:format.raw>
					{showErrorDetails}
				</f:format.raw>
			</div>
		</div>
		<f:flashMessages />
	</f:then>
	<f:else>
		<f:flashMessages />
	</f:else>
</f:if>


